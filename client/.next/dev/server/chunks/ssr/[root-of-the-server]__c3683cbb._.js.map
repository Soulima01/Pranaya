{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/soulima01/Pranaya-Health-Agent/client/lib/store/userStore.ts"],"sourcesContent":["import { create } from 'zustand';\nimport { persist } from 'zustand/middleware';\n\ntype UserProfile = {\n  name: string;\n  age: string;\n  gender: string;\n  weight: string; // Needed for Water Goal\n  isDiabetic: string;\n  hasHypertension: string;\n  existingConditions: string;\n  isAssessmentDone: boolean;\n};\n\n// New Structure for Meds\ntype Medication = {\n  id: string;\n  name: string;\n  taken: boolean; // True = Checked, False = Unchecked\n};\n\ntype TrackerState = {\n  lastResetDate: string; // To track when to reset daily stats\n  water: number;\n  meds: Medication[]; // Changed from string[] to Object[]\n  vaccines: string[];\n  periodDate: string | null;\n};\n\ntype UserState = {\n  profile: UserProfile;\n  trackers: TrackerState;\n  \n  setProfile: (data: Partial<UserProfile>) => void;\n  completeAssessment: () => void;\n  \n  // Actions\n  checkDailyReset: () => void; // Checks if it's a new day\n  addWater: (amount?: number) => void;\n  \n  addMed: (name: string) => void;\n  toggleMed: (id: string, status?: boolean) => void; // Manual or Agent toggle\n  removeMed: (id: string) => void;\n  \n  addVaccine: (name: string) => void;\n  removeVaccine: (name: string) => void;\n  setPeriodDate: (date: string) => void;\n  \n  getWaterGoal: () => number; // Helper to calculate goal\n};\n\nexport const useUserStore = create<UserState>()(\n  persist(\n    (set, get) => ({\n      profile: {\n        name: '', age: '', gender: '', weight: '', isDiabetic: 'No', \n        hasHypertension: 'No', existingConditions: '', isAssessmentDone: false\n      },\n      trackers: {\n        lastResetDate: new Date().toDateString(),\n        water: 0,\n        meds: [],\n        vaccines: [],\n        periodDate: null\n      },\n      \n      setProfile: (data) => set((state) => ({ profile: { ...state.profile, ...data } })),\n      completeAssessment: () => set((state) => ({ profile: { ...state.profile, isAssessmentDone: true } })),\n      \n      // --- LOGIC: Check for New Day ---\n      checkDailyReset: () => {\n        const today = new Date().toDateString();\n        const { lastResetDate, meds } = get().trackers;\n\n        if (lastResetDate !== today) {\n          // It's a new day! Reset Water and uncheck all Meds\n          set((state) => ({\n            trackers: {\n              ...state.trackers,\n              lastResetDate: today,\n              water: 0,\n              meds: state.trackers.meds.map(m => ({ ...m, taken: false })) // Uncheck all\n            }\n          }));\n        }\n      },\n\n      // --- LOGIC: Dynamic Water Goal ---\n      getWaterGoal: () => {\n        const weight = parseInt(get().profile.weight) || 60; // Default 60kg if missing\n        // Formula: 35ml per kg of body weight\n        return weight * 35;\n      },\n\n      addWater: (amount = 250) => set((state) => ({ \n        trackers: { ...state.trackers, water: state.trackers.water + amount } \n      })),\n\n      // --- MEDS LOGIC ---\n      addMed: (name) => set((state) => ({ \n        trackers: { \n          ...state.trackers, \n          meds: [...state.trackers.meds, { id: Date.now().toString(), name, taken: false }] \n        } \n      })),\n      \n      toggleMed: (id, status) => set((state) => ({\n        trackers: {\n          ...state.trackers,\n          meds: state.trackers.meds.map(m => \n            m.id === id ? { ...m, taken: status !== undefined ? status : !m.taken } : m\n          )\n        }\n      })),\n\n      removeMed: (id) => set((state) => ({\n        trackers: { ...state.trackers, meds: state.trackers.meds.filter(m => m.id !== id) }\n      })),\n\n      // --- VACCINES (Persistent) ---\n      addVaccine: (name) => set((state) => ({ \n        trackers: { ...state.trackers, vaccines: [...state.trackers.vaccines, name] } \n      })),\n      removeVaccine: (name) => set((state) => ({\n        trackers: { ...state.trackers, vaccines: state.trackers.vaccines.filter(v => v !== name) }\n      })),\n\n      setPeriodDate: (date) => set((state) => ({ \n        trackers: { ...state.trackers, periodDate: date } \n      })),\n    }),\n    { name: 'pranaya-storage' }\n  )\n);"],"names":[],"mappings":"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"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///Users/soulima01/Pranaya-Health-Agent/client/app/%28auth%29/login/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useUserStore } from '@/lib/store/userStore';\nimport { Activity, ArrowRight, Lock } from 'lucide-react';\nimport Link from 'next/link';\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const { setProfile } = useUserStore();\n  const [name, setName] = useState('');\n\n  const handleLogin = () => {\n    if (!name.trim()) return;\n    \n    // Simulate Login: Save name to store\n    // We reset isAssessmentDone to false to force the full flow for the demo\n    setProfile({ name: name, isAssessmentDone: false }); \n    \n    router.push('/assessment');\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 px-4\">\n      <div className=\"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-blue-100\">\n        \n        {/* Logo */}\n        <div className=\"flex justify-center mb-6 text-blue-600\">\n          <div className=\"bg-blue-50 p-4 rounded-full\">\n            <Activity size={40} />\n          </div>\n        </div>\n\n        <h1 className=\"text-2xl font-bold text-center text-gray-900 mb-2\">Welcome Back</h1>\n        <p className=\"text-center text-gray-500 mb-8\">Sign in to access your health dashboard.</p>\n        \n        <div className=\"space-y-6\">\n          <div>\n            <label className=\"block text-sm font-bold text-gray-700 mb-2\">Full Name</label>\n            <input \n              type=\"text\" \n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              onKeyDown={(e) => e.key === 'Enter' && handleLogin()}\n              className=\"w-full p-4 border rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition\"\n              placeholder=\"e.g. Rahul Sharma\"\n            />\n          </div>\n\n          <button \n            onClick={handleLogin}\n            className=\"w-full bg-blue-600 text-white py-4 rounded-xl font-bold hover:bg-blue-700 transition flex items-center justify-center gap-2 shadow-lg shadow-blue-200\"\n          >\n            Continue <ArrowRight size={20} />\n          </button>\n\n          <div className=\"text-center text-sm text-gray-400 mt-4\">\n            Don't have an account? <Link href=\"/signup\" className=\"text-blue-600 font-bold hover:underline\">Sign Up</Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,yIAAY;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,MAAM,cAAc;QAClB,IAAI,CAAC,KAAK,IAAI,IAAI;QAElB,qCAAqC;QACrC,yEAAyE;QACzE,WAAW;YAAE,MAAM;YAAM,kBAAkB;QAAM;QAEjD,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAGb,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,sNAAQ;4BAAC,MAAM;;;;;;;;;;;;;;;;8BAIpB,8OAAC;oBAAG,WAAU;8BAAoD;;;;;;8BAClE,8OAAC;oBAAE,WAAU;8BAAiC;;;;;;8BAE9C,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAM,WAAU;8CAA6C;;;;;;8CAC9D,8OAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;oCACvC,WAAW,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;oCACvC,WAAU;oCACV,aAAY;;;;;;;;;;;;sCAIhB,8OAAC;4BACC,SAAS;4BACT,WAAU;;gCACX;8CACU,8OAAC,gOAAU;oCAAC,MAAM;;;;;;;;;;;;sCAG7B,8OAAC;4BAAI,WAAU;;gCAAyC;8CAC/B,8OAAC,uKAAI;oCAAC,MAAK;oCAAU,WAAU;8CAA0C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM5G"}}]
}